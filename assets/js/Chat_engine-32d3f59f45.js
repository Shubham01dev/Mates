class ChatEngine{constructor(e,s){this.chatBox=$("."+e),this.userEmail=s,this.socket=io.connect("http://localhost:5000"),this.userEmail&&this.connectionHandler()}connectionHandler(){let o=this;this.socket.on("connect",function(){console.log("connection has been established using scoket"),o.socket.emit("join_room",{user_email:o.userEmail,chatroom:"Socialwebapp"}),o.socket.on("user_joined",function(e){console.log("new user joined",e)}),$("#chat_sender").click(function(){var e=$("#chats").val();""!=e&&o.socket.emit("send_message",{message:e,user_email:o.userEmail,chatroom:"Socialwebapp"})}),o.socket.on("recieve_message",function(e){console.log("message received",e);var s=$("#chat_container");e.user_email==o.userEmail?s.append(`<div class="user_chat">${e.message}</div>`):s.append(`<div class="friend_chat">${e.message}</div>`),$("Chat-box").append(s)})})}}